@media (max-width: 960px) {
  .brand-tagline {
    display: block; /* Убеждаемся, что контейнер ВИДЕН */
  }
  /* Прячем полную версию */
  .full-tagline {
    display: none;
  }

  /* Показываем сокращенную */
  .short-tagline {
    display: inline;
    font-size: 1.1rem; /* Можно чуть уменьшить размер, чтобы точно влезло */
    color: var(--muted);
    font-weight: 500;
  }

  /* Чтобы лого и слоган не слипались на мобильных */
  .brand {
    gap: 8px;
    align-items: center;
  }

  /* 2. Показываем бургер */
  .burger {
    display: flex;
  }

  /* 3. Превращаем навигацию в выпадающее меню */
  .nav {
    position: fixed;
    top: 0;
    right: -100%; /* Прячем за край экрана */
    width: 280px;
    height: 100vh;
    background: white;
    flex-direction: column;
    align-items: flex-start;
    padding: 80px 40px;
    gap: 30px;
    box-shadow: -10px 0 30px rgba(0, 0, 0, 0.1);
    transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 99;
  }

  /* Состояние при открытом меню */
  .nav.is-open {
    right: 0;
  }

  /* Стили ссылок в мобильном меню */
  .navlink {
    font-size: 18px;
    width: 100%;
    border-bottom: 1px solid var(--line);
    padding-bottom: 10px;
  }

  /* Переключатель языков внизу меню */
  .lang {
    margin-left: 0;
    margin-top: auto; /* Прижимаем к низу */
  }

  /* Анимация бургера в крестик */
  .burger.is-active span:nth-child(1) {
    transform: translateY(8px) rotate(45deg);
  }
  .burger.is-active span:nth-child(2) {
    opacity: 0;
  }
  .burger.is-active span:nth-child(3) {
    transform: translateY(-8px) rotate(-45deg);
  }
  .hero-nav:disabled {
    opacity: 0 !important;
    visibility: hidden !important;
    pointer-events: none !important;
    /* Убираем её из потока, чтобы текст не центрировался по фантомной кнопке */
    max-width: 0 !important;
    padding: 0 !important;
    margin: 0 !important;
    overflow: hidden;
  }
}

@media (max-width: 900px) and (min-width: 481px) {
  /* 1. Состояние Disabled */
  /* Полное исчезновение кнопки, когда она неактивна */

  /* на всякий: если состояние выключения делается не disabled, а ARIA/классом */
  .hero-nav[aria-disabled="true"],
  .hero-nav[aria-hidden="true"],
  .hero-nav.is-disabled {
    opacity: 0 !important;
    pointer-events: none !important;
    visibility: hidden !important;
  }

  .brand-tagline {
    display: block; /* Убеждаемся, что контейнер ВИДЕН */
  }
  /* Прячем полную версию */
  .full-tagline {
    display: none;
  }

  /* Показываем сокращенную */
  .short-tagline {
    display: inline;
    font-size: 1.1rem; /* Можно чуть уменьшить размер, чтобы точно влезло */
    color: var(--muted);
    font-weight: 500;
  }

  /* Чтобы лого и слоган не слипались на мобильных */
  .brand {
    gap: 8px;
    align-items: center;
  }

  /* 2. Показываем бургер */
  .burger {
    display: flex;
  }

  /* 3. Превращаем навигацию в выпадающее меню */
  .nav {
    position: fixed;
    top: 0;
    right: -100%; /* Прячем за край экрана */
    width: 280px;
    height: 100vh;
    background: white;
    flex-direction: column;
    align-items: flex-start;
    padding: 80px 40px;
    gap: 30px;
    box-shadow: -10px 0 30px rgba(0, 0, 0, 0.1);
    transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 99;
  }

  /* Состояние при открытом меню */
  .nav.is-open {
    right: 0;
  }

  /* Стили ссылок в мобильном меню */
  .navlink {
    font-size: 18px;
    width: 100%;
    border-bottom: 1px solid var(--line);
    padding-bottom: 10px;
  }

  /* Переключатель языков внизу меню */
  .lang {
    margin-left: 0;
    margin-top: auto; /* Прижимаем к низу */
  }

  /* Анимация бургера в крестик */
  .burger.is-active span:nth-child(1) {
    transform: translateY(8px) rotate(45deg);
  }
  .burger.is-active span:nth-child(2) {
    opacity: 0;
  }
  .burger.is-active span:nth-child(3) {
    transform: translateY(-8px) rotate(-45deg);
  }
}
@media (max-width: 900px) /*and (min-width: 480px) */ {
  /* ✅ корректный reset вместо box-sizing:none */
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  /* ✅ секция реально “full-bleed” */
  #top.home-hero,
  .home-hero {
    width: 100%;
    margin: 0;
    padding: 0;
    min-height: auto; /* или unset */
    display: block; /* отключаем grid на этом диапазоне */
    max-width: none; /* чтобы не было "рамки 1200" */

    /* ship scales from width (vmin), not from height (svh) */
    --shipH: max(620px, min(92vmin, 900px));
  }

  .hero-title {
    margin: clamp(18px, 4vh, 60px);
  }

  /* 0) Отключаем общий фон у сцены — дальше фон будет на каждом слайде */
  .home-hero::before {
    background-image: none !important;
  }

  /* 3) Центр (пустая колонка) убираем */
  .hero-center {
    display: none;
  }

  /* 4) Делаем 2 слайда на всю ширину */
  .hero-sides {
    height: auto;
    display: flex;
    gap: 0;
    overflow-x: auto;
    overflow-y: hidden;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;

    /* прячем полосу прокрутки */
    scrollbar-width: none;

    scroll-behavior: smooth;
    outline: none; /* чтобы не было рамки при фокусе */

    scroll-snap-stop: always;
    overscroll-behavior-x: contain;
    position: relative;
    z-index: 1;
  }

  .hero-sides::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  /* Слайды = две колонки (каждая занимает 100% ширины экрана) */
  /* 3-колоночная раскладка внутри каждого слайда:
     [air] [content] [air] */
  .hero-sides > .hero-col {
    /* перебиваем десктопный flex */
    display: grid !important;

    /* ширина "контентной колонки" */
    --contentW: min(420px, 50vw);

    /* доли воздуха слева/справа (по умолчанию равные) */
    --airL: 1fr;
    --airR: 1fr;

    grid-template-columns:
      minmax(0, var(--airL))
      minmax(0, var(--contentW))
      minmax(0, var(--airR));

    align-content: center;

    /* (УБРАНО) padding-block: ...   — потому что ниже есть padding: ... !important */
    padding: clamp(22px, 5vh, 48px) 0 24px !important;
  }

  /* ✅ каждый слайд занимает всю “сцену” */
  .hero-col {
    flex: 0 0 100%;
    height: auto;
    min-height: 0;

    scroll-snap-align: start;
    scroll-snap-stop: always;

    position: relative;
    isolation: isolate;

    overflow: visible;

    /* (УБРАНО) padding-left/right/top — они тут не работают,
       потому что .hero-sides > .hero-col задаёт padding: ... !important */
  }

  /* Все прямые дети слайда кладём в среднюю колонку */
  .hero-sides > .hero-col > * {
    grid-column: 2;
    width: 100%;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  /* Сдвигаем контент ОТ корабля:
     на DEV корабль справа -> делаем правый воздух больше
     на QA корабль слева -> делаем левый воздух больше */
  .hero-sides > .hero-col.hero-col--left {
    --airL: 1.05fr;
    --airR: 1.95fr;
  }
  .hero-sides > .hero-col.hero-col--right {
    --airL: 1.95fr;
    --airR: 1.05fr;
  }

  .hero-tabs-content {
    display: block; /* ВАЖНО: перебить display: contents */
    position: relative;
  }

  .hero-col--left .hero-title--chip,
  .hero-col--left .hero-accordion,
  .hero-col--right .hero-title--chip,
  .hero-col--right .hero-accordion {
    width: 100% !important;
  }

  /* (УБРАНО) .hero-col::before {...}
     — потому что фон задаётся на .hero-col--left/right::before, и это перекрывает общий ::before */

  /* DEV slide + QA slide background halves */
  .hero-col--left::before,
  .hero-col--right::before {
    content: "";
    position: absolute;
    inset: 0;
    z-index: 0;
    pointer-events: none;

    background-repeat: no-repeat;
    background-size: auto var(--shipH);
    background-position: center top;
  }

  .hero-col--left::before {
    background-image: url("../images/home-left.jpg");
    background-position-x: right;
  }

  .hero-col--right::before {
    background-image: url("../images/home-right.jpg");
    background-position-x: left;
  }

  /* если нужно — убираем десктопные боковые паддинги у заголовков */
  .hero-col--left .hero-title {
    padding-right: 0;
  }
  .hero-col--right .hero-title {
    padding-left: 0;
  }

  /* QA summary: место под точку слева */
  details.services-acc.svc-col--qa > summary {
    padding-left: 36px !important;
    align-items: flex-start !important;
    text-align: left !important;
  }

  /* QA body: отступ от точки */
  details.services-acc.svc-col--qa .svc-body {
    margin-left: 16px !important;
    margin-right: 0 !important;
    text-align: left !important;
  }

  /* линия под summary: старт после точки */
  details.services-acc.svc-col--qa > summary::after {
    left: 18px !important;
    right: 0 !important;
  }

  /* точка слева */
  details.services-acc.svc-col--qa > summary::before {
    left: 0 !important;
    right: auto !important;
  }

  /* нижняя линия под body (когда open) */
  details.services-acc.svc-col--qa[open] .svc-body::after {
    left: 18px !important;
    right: 0 !important;
  }

  /* подсветка открытого QA: кант слева, тень влево */
  details.services-acc.svc-col--qa[open] .svc-body {
    border-left: 1px solid rgba(0, 0, 0, 0.1) !important;
    border-right: 0 !important;
    box-shadow: -18px 0 32px rgba(0, 0, 0, 0.06) !important;
  }

  /* чтобы ничего не резалось по границам грида */
  .hero-col,
  .hero-title {
    overflow: visible;
  }

  /* заголовок DEV может занимать центр + правый "air" */
  .hero-col--left > .hero-title {
    grid-column: 2 / 4;
    justify-self: start;
  }

  /* заголовок QA может занимать левый "air" + центр */
  .hero-col--right > .hero-title {
    grid-column: 1 / 3;
    justify-self: end;
  }

  /* Принудительно снимаем ВСЕ ограничения с заголовка */
  .hero-col--left > .hero-title,
  .hero-col--right > .hero-title {
    position: relative;
    z-index: 10;
  }

  /* Если grid всё равно режет — используем negative margin */
  .hero-col--left > .hero-title {
    margin-right: -20vw;
    padding-right: 20vw;
  }

  .hero-col--right > .hero-title {
    margin-left: -20vw;
    padding-left: 20vw;
  }

  /* ======================================================== */
  /* ======= CLICK ZONES: “sea glass” always visible ======= */
  /* ======================================================== */

  .hero-nav {
    position: absolute;
    top: 0;
    bottom: 0;
    z-index: 30;
    width: clamp(110px, 14vw, 220px);
    border: 0;
    cursor: pointer;
    display: flex;
    align-items: flex-start;
    padding: clamp(10px, 1.6vh, 18px) 0 22px 0;
    gap: 0;
    background: linear-gradient(
      to left,
      rgba(27, 92, 89, 0.2),
      rgba(27, 92, 89, 0.1)
    );
    backdrop-filter: blur(1px);
    box-shadow: inset 0 0 0 1px rgba(27, 92, 89, 0.1),
      0 12px 26px rgba(0, 0, 0, 0.1);
    transition: all 0.2s ease;

    --navArrow: clamp(40px, 6vw, 70px);
    --navText: 1.6rem;
  }

  .hero-nav--next {
    right: 0;
    justify-content: flex-end;
  }
  .hero-nav--prev {
    left: 0;
    justify-content: flex-start;
  }

  .hero-nav:hover {
    opacity: 0.8;
    box-shadow: 0 16px 34px rgba(0, 0, 0, 0.3);
  }

  .hero-nav::before,
  .hero-nav::after {
    display: block;
    box-sizing: border-box;
    opacity: 0.7;
    transition: opacity 0.2s ease;
  }

  .hero-nav::before {
    font-weight: 100;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    font-size: clamp(1rem, 2vw, 1.4rem) !important;
    white-space: nowrap;
    color: #a10f0f;
    height: var(--navArrow);
    display: flex;
    align-items: center;
  }
  .hero-nav--prev::before {
    content: "DEV";
  }
  .hero-nav--next::before {
    content: "QA";
  }

  .hero-nav::after {
    content: "" !important;
    display: block !important;
    width: var(--navArrow) !important;
    height: var(--navArrow) !important;
    flex: 0 0 var(--navArrow) !important;
    background-color: #a10f0f !important;

    -webkit-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M9 4l8 8-8 8' fill='none' stroke='black' stroke-width='1.2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E")
      center / contain no-repeat !important;
    mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M9 4l8 8-8 8' fill='none' stroke='black' stroke-width='1.2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E")
      center / contain no-repeat !important;
  }

  .hero-nav--next::after {
    animation: navBounceR 1.15s ease-in-out infinite;
  }

  .hero-nav--prev::after {
    transform: scaleX(-1);
    animation: navBounceL 1.15s ease-in-out infinite;
  }

  @keyframes navBounceR {
    0%,
    100% {
      transform: translateX(0);
    }
    50% {
      transform: translateX(-8px);
    }
  }

  @keyframes navBounceL {
    0%,
    100% {
      transform: scaleX(-1) translateX(0);
    }
    50% {
      transform: scaleX(-1) translateX(-8px);
    }
  }

  .slider-home.is-moving .hero-nav {
    opacity: 0 !important;
    pointer-events: none !important;
  }

  .hero-nav::before {
    order: 1;
  }
  .hero-nav::after {
    order: 2;
  }

  .hero-nav--prev::after {
    order: 1;
  }
  .hero-nav--prev::before {
    order: 2;
  }
}

@media (max-width: 480px) {
  /* ====== 1) Первый экран фиксированной высоты ====== */
  #top.home-hero,
  .home-hero {
    height: calc(100svh - var(--headerH));
    min-height: calc(100svh - var(--headerH));
    overflow: hidden; /* чтобы следующий блок не “подлезал” на первый экран */

    /* на планшетах можно чуть выше, чем на телефонах */
    /* высота панели навигации (DEV / QA) */
    --navH: 60px;
    --shipH: clamp(620px, calc(100svh - var(--headerH)), 980px);
  }

  .hero-sides {
    height: calc(100svh - var(--headerH));
  }

  /* ====== 2) Слайды: 1 экран + внутренний скролл ====== */
  .hero-sides > .hero-col {
    min-height: calc(100svh - var(--headerH));
  }

  .hero-col {
    height: 100%;
    min-height: 100%;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;

    /* место под верхнюю панель nav */
    /* синхронизируем “геометрию” карточки и контента */
    --cardX: clamp(14px, 4.5vw, 42px);
    --cardB: clamp(16px, 4.5vw, 42px);
    --cardT: calc(var(--navH) + clamp(8px, 2vh, 14px));

    /* контент всегда внутри “стекла” */
    padding-top: calc(var(--cardT) + 14px) !important;
    padding-right: calc(var(--cardX) + 10px) !important;
    padding-left: calc(var(--cardX) + 10px) !important;
    padding-bottom: calc(var(--cardB) + 18px) !important;

    position: relative !important;
    isolation: isolate;
  }

  .hero-col::-webkit-scrollbar {
    width: 0;
    height: 0;
  }
  .hero-col {
    scrollbar-width: none;
  }

  /* ====== 3) Корабль: по высоте первого экрана ====== */
  .hero-col::before {
    background-size: auto var(--shipH);
    background-position-y: top;
    z-index: 0; /* важно: фон ниже карточки */
  }
  .hero-col--left::before {
    background-position-x: right;
  }
  .hero-col--right::before {
    background-position-x: left;
  }

  /* ====== 4) Стеклянная карточка (вместо “вуали на весь экран”) ====== */
  .hero-col::after {
    content: "" !important;
    position: absolute !important;

    /* карточка занимает почти весь экран, но НЕ залезает под nav */
    inset: var(--cardT) var(--cardX) var(--cardB) var(--cardX);

    z-index: 1 !important;
    pointer-events: none;
    background: transparent !important;
    /* border: 1px solid rgba(0, 0, 0, 0.08);*/
    border-radius: 18px;
    backdrop-filter: blur(8px);
    box-shadow: 0 18px 50px rgba(0, 0, 0, 0.06);
  }

  /* корабль справа → прозрачнее вправо */
  .hero-col--left::after {
    background: linear-gradient(
      90deg,
      rgba(255, 255, 255, 0.92) 0%,
      rgba(255, 255, 255, 0.74) 55%,
      rgba(255, 255, 255, 0) 100%
    ) !important;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);

    /* гасим САМ эффект стекла к кораблю */
    -webkit-mask-image: linear-gradient(
      90deg,
      #000 0%,
      #000 65%,
      transparent 100%
    );
    mask-image: linear-gradient(90deg, #000 0%, #000 65%, transparent 100%);
  }

  /* корабль слева → прозрачнее влево */
  .hero-col--right::after {
    background: linear-gradient(
      270deg,
      rgba(255, 255, 255, 0.92) 0%,
      rgba(255, 255, 255, 0.74) 55%,
      rgba(255, 255, 255, 0) 100%
    ) !important;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);

    -webkit-mask-image: linear-gradient(
      270deg,
      #000 0%,
      #000 65%,
      transparent 100%
    );
    mask-image: linear-gradient(270deg, #000 0%, #000 65%, transparent 100%);
  }

  /* контент выше карточки */
  .hero-col > * {
    position: relative !important;
    z-index: 2 !important;
  }

  .hero-accordion {
    margin-top: 6px;
  }

  /* ====== 5) Телефонная навигация DEV/QA сверху (две половины) ====== */
  .hero-nav {
    top: 0 !important;
    bottom: auto !important;

    height: var(--navH) !important;
    width: 30% !important; /* ✅ половина экрана на кнопку */
    max-width: none !important;

    position: absolute !important;
    z-index: 50 !important; /* ✅ выше стекла/фона */

    padding: 0 5px !important;

    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;

    background: none;
    /*
    backdrop-filter: blur(1px);
    -webkit-backdrop-filter: blur(1px);
    background: linear-gradient(
      to left,
      rgba(27, 92, 89, 0.2),
      rgba(27, 92, 89, 0.1)
    );*/

    --navArrow: clamp(40px, 6vw, 70px);
    --navText: 1.6rem;
  }

  .hero-nav--prev {
    left: 0 !important;
    right: auto !important;
    -webkit-mask-image: linear-gradient(to left, transparent 0%, #000 60%);
    mask-image: linear-gradient(to left, transparent 0%, #000 60%);
  }
  .hero-nav--next {
    right: 0 !important;
    left: auto !important;
    -webkit-mask-image: linear-gradient(to right, transparent 0%, #000 60%);
    mask-image: linear-gradient(to right, transparent 0%, #000 60%);
  }

  /* порядок “стрелка+текст” */
  .hero-nav::before {
    order: 1;
  }
  .hero-nav::after {
    order: 2;
  }

  /* у prev — стрелка слева */
  .hero-nav--prev::after {
    order: 1;
  }
  .hero-nav--prev::before {
    order: 2;
  }
  /* на всякий случай: если вдруг “disabled” не атрибутом */
  .hero-nav[aria-disabled="true"],
  .hero-nav.is-disabled {
    opacity: 0 !important;
    pointer-events: none !important;
  }

  /* убираем пляску от vh-клампов маржинов на коротких высотах */
  .hero-title {
    margin-top: 0 !important;
  }
}
